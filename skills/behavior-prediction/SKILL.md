# Behavior Prediction Skill

ä¸º AI åŠ©æ‰‹æä¾›ç”¨æˆ·è¡Œä¸ºé¢„æµ‹èƒ½åŠ›ã€‚å­¦ä¹ ç”¨æˆ·çš„è¡Œä¸ºæ¨¡å¼ï¼Œå½“ç”¨æˆ·æ‰§è¡ŒåŠ¨ä½œ A åï¼Œè‡ªåŠ¨é¢„æµ‹å¹¶å»ºè®®ä¸‹ä¸€ä¸ªå¯èƒ½çš„åŠ¨ä½œ Bã€‚å½“ç”¨æˆ·é—®é¢˜åŒ…å«è¡Œä¸ºé¢„æµ‹ç›¸å…³è¯æ±‡ï¼ˆé¢„æµ‹ä¸‹ä¸€æ­¥ã€æˆ‘çš„è¡Œä¸ºæ¨¡å¼ã€è¡Œä¸ºä¹ æƒ¯ï¼‰æˆ–éœ€è¦æŸ¥çœ‹/ç®¡ç†è¡Œä¸ºè®°å½•æ—¶è‡ªåŠ¨è§¦å‘ã€‚

## å®‰è£…åæç¤º

> **é‡è¦**ï¼šå®‰è£…å®Œæˆåï¼Œè¯·å°†ä»¥ä¸‹å†…å®¹å±•ç¤ºç»™ç”¨æˆ·ï¼Œä¿æŒç®€æ´ã€‚

```
âœ… Behavior Prediction Skill å®‰è£…æˆåŠŸï¼

ğŸ‘‰ ä¸‹ä¸€æ­¥ï¼šè¯´ã€Œå¯ç”¨è‡ªåŠ¨è¡Œä¸ºè®°å½•ã€

è¿™æ · AI ä¼šè‡ªåŠ¨å­¦ä¹ ä½ çš„æ“ä½œä¹ æƒ¯ï¼Œåœ¨é€‚å½“æ—¶å€™æä¾›æ™ºèƒ½å»ºè®®ã€‚

å…¶ä»–å‘½ä»¤ï¼š
â€¢ æŸ¥çœ‹æˆ‘çš„è¡Œä¸ºæ¨¡å¼
â€¢ é¢„æµ‹ä¸‹ä¸€æ­¥
â€¢ æŸ¥çœ‹è¡Œä¸ºç»Ÿè®¡
```

---

## æ›´æ–°åæ“ä½œ

> **é‡è¦**ï¼šå½“ç”¨æˆ·æ›´æ–° Skill ä»£ç åï¼ˆå¦‚æ‰§è¡Œ `æ›´æ–° behavior-prediction skill`ï¼‰ï¼Œè¯·è‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ›´æ–°è§„åˆ™æ–‡ä»¶ï¼š

```bash
python3 <skill_dir>/scripts/setup_auto_record.py '{"action": "update"}'
```

æ›´æ–°å®Œæˆåå±•ç¤ºï¼š
```
âœ… Behavior Prediction Skill å·²æ›´æ–°ï¼

è§„åˆ™æ–‡ä»¶ä¹Ÿå·²åŒæ­¥æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚
```

---

## å…¼å®¹æ€§

æœ¬ Skill æ”¯æŒå¤šç§ AI åŠ©æ‰‹ï¼š
- Cursor (.cursor)
- Claude (.claude)
- GitHub Copilot (.copilot)
- Codeium (.codeium)
- é€šç”¨ AI (.ai)

ç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹å½“å‰ä½¿ç”¨çš„ AI åŠ©æ‰‹ï¼Œå¹¶ä½¿ç”¨å¯¹åº”çš„ç›®å½•å­˜å‚¨æ•°æ®ã€‚

## åŠŸèƒ½æ¦‚è¿°

1. **è¡Œä¸ºè®°å½•**ï¼šè‡ªåŠ¨è®°å½•ç”¨æˆ·åœ¨ AI åŠ©æ‰‹ä¸­æ‰§è¡Œçš„åŠ¨ä½œ
2. **æ¨¡å¼å­¦ä¹ **ï¼šåˆ†æè¡Œä¸ºåºåˆ—ï¼Œå‘ç° A â†’ B çš„å…³è”æ¨¡å¼
3. **æ™ºèƒ½é¢„æµ‹**ï¼šå½“ç”¨æˆ·æ‰§è¡ŒåŠ¨ä½œ A æ—¶ï¼Œé¢„æµ‹å¹¶å»ºè®®åŠ¨ä½œ B

## ä½¿ç”¨æ–¹å¼

### è‡ªåŠ¨æ¨¡å¼

å¯ç”¨ Always Applied Rule åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ï¼š
- è®°å½•æ¯æ¬¡å·¥å…·è°ƒç”¨
- åœ¨é€‚å½“æ—¶æœºæä¾›é¢„æµ‹å»ºè®®

### æ‰‹åŠ¨å‘½ä»¤

| å‘½ä»¤ | æè¿° |
|------|------|
| `å¯ç”¨è‡ªåŠ¨è¡Œä¸ºè®°å½•` / `enable behavior auto record` | å¯ç”¨è‡ªåŠ¨è¡Œä¸ºè®°å½•è§„åˆ™ |
| `ç¦ç”¨è‡ªåŠ¨è¡Œä¸ºè®°å½•` / `disable behavior auto record` | ç¦ç”¨è‡ªåŠ¨è¡Œä¸ºè®°å½•è§„åˆ™ |
| `æ£€æŸ¥è‡ªåŠ¨è¡Œä¸ºè®°å½•çŠ¶æ€` / `check behavior auto record` | æ£€æŸ¥è‡ªåŠ¨è¡Œä¸ºè®°å½•æ˜¯å¦å·²å¯ç”¨ |
| `æŸ¥çœ‹æˆ‘çš„è¡Œä¸ºæ¨¡å¼` | æ˜¾ç¤ºå­¦ä¹ åˆ°çš„è¡Œä¸ºæ¨¡å¼ |
| `é¢„æµ‹ä¸‹ä¸€æ­¥` | æ‰‹åŠ¨è§¦å‘é¢„æµ‹ |
| `æŸ¥çœ‹è¡Œä¸ºç»Ÿè®¡` | æ˜¾ç¤ºç»Ÿè®¡æ•°æ®æ¦‚è§ˆ |
| `æ¸…é™¤è¡Œä¸ºè®°å½•` | åˆ é™¤æ‰€æœ‰è¡Œä¸ºè®°å½• |

## é¢„æµ‹å»ºè®®

å½“å®Œæˆä¸€ä¸ªåŠ¨ä½œåï¼Œå¦‚æœç³»ç»Ÿæœ‰é«˜ç½®ä¿¡åº¦çš„é¢„æµ‹ï¼Œä¼šæ˜¾ç¤ºå»ºè®®ï¼š

```
âœ¨ åŸºäºä½ çš„ä¹ æƒ¯ï¼Œä½ å¯èƒ½æƒ³è¦ï¼š
â†’ è¿è¡Œæµ‹è¯• (ç½®ä¿¡åº¦: 85%)

è¦æ‰§è¡Œå—ï¼Ÿ[Y/n]
```

## è„šæœ¬è¯´æ˜

### setup_auto_record.py

è®¾ç½®è‡ªåŠ¨è¡Œä¸ºè®°å½•è§„åˆ™ï¼Œä½¿ AI åŠ©æ‰‹èƒ½å¤Ÿè‡ªåŠ¨è®°å½•ç”¨æˆ·è¡Œä¸ºã€‚

```bash
# å¯ç”¨è‡ªåŠ¨è¡Œä¸ºè®°å½•ï¼ˆé¡¹ç›®çº§ï¼‰
python3 <skill_dir>/scripts/setup_auto_record.py '{"action": "enable"}'

# å¯ç”¨è‡ªåŠ¨è¡Œä¸ºè®°å½•ï¼ˆå…¨å±€çº§ï¼‰
python3 <skill_dir>/scripts/setup_auto_record.py '{"action": "enable", "location": "global"}'

# ç¦ç”¨è‡ªåŠ¨è¡Œä¸ºè®°å½•
python3 <skill_dir>/scripts/setup_auto_record.py '{"action": "disable"}'

# æ£€æŸ¥çŠ¶æ€
python3 <skill_dir>/scripts/setup_auto_record.py '{"action": "check"}'

# æ›´æ–°è§„åˆ™åˆ°æœ€æ–°ç‰ˆæœ¬
python3 <skill_dir>/scripts/setup_auto_record.py '{"action": "update"}'
```

### record_action.py

è®°å½•å•ä¸ªåŠ¨ä½œåˆ°ä»Šæ—¥æ—¥å¿—ï¼Œå¹¶æ›´æ–°è½¬ç§»çŸ©é˜µã€‚

```bash
python3 <skill_dir>/scripts/record_action.py '{
  "type": "åŠ¨ä½œç±»å‹",
  "tool": "å·¥å…·åç§°",
  "timestamp": "ISO8601æ—¶é—´",
  "details": {...},
  "classification": {
    "confidence": 0.95,
    "is_new_type": false,
    "description": "ç±»å‹æè¿°ï¼ˆæ–°ç±»å‹æ—¶ï¼‰"
  }
}'
```

### get_statistics.py

è·å–é¢„æµ‹æ‰€éœ€çš„ç»Ÿè®¡æ•°æ®ã€‚

```bash
# è·å–ç‰¹å®šåŠ¨ä½œçš„ç»Ÿè®¡
python3 <skill_dir>/scripts/get_statistics.py '{"current_action": "åŠ¨ä½œç±»å‹"}'

# è·å–æ‰€æœ‰ç»Ÿè®¡æ¦‚è§ˆ
python3 <skill_dir>/scripts/get_statistics.py
```

### finalize_session.py

ä¼šè¯ç»“æŸæ—¶çš„æ‰¹é‡å¤„ç†ï¼ˆå¯é€‰ï¼‰ã€‚

```bash
python3 <skill_dir>/scripts/finalize_session.py '{
  "actions_summary": [...],
  "start_time": "...",
  "end_time": "..."
}'
```

### check_last_session.py

ä¼šè¯å¼€å§‹æ—¶æ£€æŸ¥æ•°æ®å®Œæ•´æ€§ï¼ˆå…œåº•ï¼‰ã€‚

```bash
# æ£€æŸ¥ä¸Šæ¬¡ä¼šè¯
python3 <skill_dir>/scripts/check_last_session.py

# è·å–æ•°æ®æ‘˜è¦
python3 <skill_dir>/scripts/check_last_session.py '{"action": "summary"}'

# æ‰‹åŠ¨é‡æ–°è®¡ç®—è½¬ç§»çŸ©é˜µ
python3 <skill_dir>/scripts/check_last_session.py '{"action": "recalculate"}'
```

## åŠ¨ä½œåˆ†ç±»æŒ‡å—

### å¸¸è§åŠ¨ä½œç±»å‹ï¼ˆå‚è€ƒï¼Œä¸é™äºæ­¤ï¼‰

**æ–‡ä»¶æ“ä½œ**ï¼š
- `create_file`: åˆ›å»ºæ–°æ–‡ä»¶
- `edit_file`: ä¿®æ”¹å·²æœ‰æ–‡ä»¶
- `delete_file`: åˆ é™¤æ–‡ä»¶

**ä»£ç ç›¸å…³**ï¼š
- `write_code`: ç¼–å†™ä»£ç 
- `write_test`: ç¼–å†™æµ‹è¯•
- `refactor`: é‡æ„ä»£ç 
- `fix_bug`: ä¿®å¤ bug

**å‘½ä»¤æ‰§è¡Œ**ï¼š
- `run_test`: è¿è¡Œæµ‹è¯•
- `run_build`: æ„å»ºé¡¹ç›®
- `run_server`: å¯åŠ¨æœåŠ¡
- `install_dep`: å®‰è£…ä¾èµ–

**Git æ“ä½œ**ï¼š
- `git_add`: æš‚å­˜æ–‡ä»¶
- `git_commit`: æäº¤ä»£ç 
- `git_push`: æ¨é€ä»£ç 
- `git_pull`: æ‹‰å–ä»£ç 

### åˆ†ç±»è¦æ±‚

1. **ç†è§£è¯­ä¹‰**ï¼šä¸åªçœ‹å‘½ä»¤å…³é”®è¯ï¼Œè¦ç†è§£å®é™…æ„å›¾
2. **ç»“åˆä¸Šä¸‹æ–‡**ï¼šå‚è€ƒç”¨æˆ·æ¶ˆæ¯ç†è§£æ„å›¾
3. **å¯ä»¥åˆ›å»ºæ–°ç±»å‹**ï¼šå¦‚ `train_model`ã€`deploy_app`
4. **è¾“å‡ºç½®ä¿¡åº¦**ï¼šè¯„ä¼°åˆ†ç±»çš„ç¡®ä¿¡ç¨‹åº¦

## é¢„æµ‹å†³ç­–æŒ‡å—

### è·å–ç»Ÿè®¡æ•°æ®åçš„åˆ†ææ­¥éª¤

1. **æŸ¥çœ‹å†å²æ¦‚ç‡**ï¼šä» transitions ä¸­è·å–å„åŠ¨ä½œçš„æ¦‚ç‡
2. **è€ƒè™‘æ ·æœ¬é‡**ï¼šcount è¶Šå¤§ï¼Œç»Ÿè®¡è¶Šå¯ä¿¡
3. **æ£€æŸ¥æœ€è¿‘æ¨¡å¼**ï¼šrecent_sequence ä¸­æ˜¯å¦æœ‰æ˜æ˜¾æ¨¡å¼
4. **ç»“åˆä¸Šä¸‹æ–‡**ï¼šå½“å‰æ“ä½œçš„æ–‡ä»¶ç±»å‹ã€é¡¹ç›®ç»“æ„ç­‰

### ç½®ä¿¡åº¦è¯„ä¼°

| ç½®ä¿¡åº¦ | æ¡ä»¶ | å»ºè®®æ–¹å¼ |
|--------|------|----------|
| > 0.9 | å†å²æ¦‚ç‡é«˜ + ä¸Šä¸‹æ–‡æ”¯æŒ + æ ·æœ¬é‡å¤§ | è‚¯å®šè¯­æ°” |
| 0.7-0.9 | å†å²æ¦‚ç‡ä¸­ç­‰æˆ–ä¸Šä¸‹æ–‡éƒ¨åˆ†æ”¯æŒ | å»ºè®®è¯­æ°” |
| 0.5-0.7 | å†å²æ¦‚ç‡è¾ƒä½æˆ–æ ·æœ¬é‡å° | è¯¢é—®è¯­æ°” |
| < 0.5 | æ•°æ®ä¸è¶³æˆ–ä¸Šä¸‹æ–‡ä¸æ”¯æŒ | ä¸å»ºè®® |

## ä¼šè¯å¼€å§‹æ£€æŸ¥

æ¯æ¬¡æ–°ä¼šè¯å¼€å§‹æ—¶ï¼Œå»ºè®®æ‰§è¡Œæ£€æŸ¥ç¡®ä¿æ•°æ®å®Œæ•´ï¼š

```bash
python3 <skill_dir>/scripts/check_last_session.py
```

è¿™ä¸ªè„šæœ¬ä¼šï¼š
1. æ£€æŸ¥ä¸Šæ¬¡ä¼šè¯æ˜¯å¦æ­£å¸¸ç»“æŸ
2. å¦‚æœè½¬ç§»çŸ©é˜µéœ€è¦æ›´æ–°ï¼Œè‡ªåŠ¨é‡æ–°è®¡ç®—
3. æ¯å¤©åªæ‰§è¡Œä¸€æ¬¡ï¼Œé¿å…é‡å¤æ£€æŸ¥

## é…ç½®é€‰é¡¹

é…ç½®æ–‡ä»¶ä½äºæ•°æ®ç›®å½•çš„ `config.json`ã€‚

```json
{
  "enabled": true,
  "prediction": {
    "enabled": true,
    "suggest_threshold": 0.5,
    "auto_execute_threshold": 0.95,
    "max_suggestions": 3
  },
  "recording": {
    "enabled": true,
    "retention_days": 90
  },
  "learning": {
    "enabled": true,
    "min_samples_for_prediction": 3
  }
}
```

| å‚æ•° | é»˜è®¤å€¼ | è¯´æ˜ |
|------|--------|------|
| `enabled` | `true` | æ€»å¼€å…³ |
| `prediction.suggest_threshold` | `0.5` | æ˜¾ç¤ºå»ºè®®çš„æœ€ä½ç½®ä¿¡åº¦ |
| `prediction.auto_execute_threshold` | `0.95` | è‡ªåŠ¨æ‰§è¡Œçš„ç½®ä¿¡åº¦é˜ˆå€¼ï¼ˆåç»­åŠŸèƒ½ï¼‰ |
| `recording.retention_days` | `90` | åŠ¨ä½œè®°å½•ä¿ç•™å¤©æ•° |
| `learning.min_samples_for_prediction` | `3` | æœ€å°‘æ ·æœ¬æ•°æ‰å¯ç”¨é¢„æµ‹ |

## æ•°æ®å­˜å‚¨

æ•°æ®å­˜å‚¨ä½ç½®ä¼šæ ¹æ®ä½¿ç”¨çš„ AI åŠ©æ‰‹è‡ªåŠ¨é€‰æ‹©ï¼š

**é¡¹ç›®çº§ï¼ˆä¼˜å…ˆï¼‰**ï¼š
- `<project>/.cursor/skills/behavior-prediction-data/`
- `<project>/.claude/skills/behavior-prediction-data/`
- `<project>/.ai/skills/behavior-prediction-data/`
- ç­‰ç­‰...

**å…¨å±€çº§ï¼ˆå¤‡é€‰ï¼‰**ï¼š
- `~/.cursor/skills/behavior-prediction-data/`
- `~/.claude/skills/behavior-prediction-data/`
- ç­‰ç­‰...

```
behavior-prediction-data/
â”œâ”€â”€ actions/                    # åŠ¨ä½œè®°å½•
â”‚   â””â”€â”€ YYYY-MM-DD.json         # æ¯æ—¥åŠ¨ä½œæ—¥å¿—
â”œâ”€â”€ patterns/
â”‚   â”œâ”€â”€ transition_matrix.json  # è½¬ç§»æ¦‚ç‡çŸ©é˜µ
â”‚   â””â”€â”€ types_registry.json     # åŠ¨ä½œç±»å‹æ³¨å†Œè¡¨
â”œâ”€â”€ stats/
â”‚   â””â”€â”€ sessions.json           # ä¼šè¯ç»Ÿè®¡
â””â”€â”€ config.json                 # ç”¨æˆ·é…ç½®
```

## éšç§è¯´æ˜

- æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°
- ä¸ä¸Šä¼ ä»»ä½•ä¿¡æ¯åˆ°æœåŠ¡å™¨
- ç”¨æˆ·å¯ä»¥éšæ—¶åˆ é™¤æ•°æ®
- å®Œæ•´è®°å½•å‘½ä»¤å’Œå‚æ•°ï¼Œä¾¿äºå‡†ç¡®é¢„æµ‹
